<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Nuevo Reporte</title>
	<link rel="stylesheet" href="/webjars/bootstrap/5.3.0/css/bootstrap.min.css">
	<script src="/webjars/bootstrap/5.3.0/js/bootstrap.min.js"></script>

</head>

<body>
	<div class="container-fluid w-75 w-75 mt-5">
		<h1>Nuevo reporte</h1>
		<form th:action="@{/reports/new}" method="post" th:object="${report}">
			<input type="hidden" name="country" th:value="${marker.country}">
			<input type="hidden" name="road" th:value="${marker.road}">
			<input type="hidden" name="town" th:value="${marker.town}">
			<input type="hidden" name="city" th:value="${marker.city}">
			<input type="hidden" name="village" th:value="${marker.village}">
			<input type="hidden" name="suburb" th:value="${marker.suburb}">
			<input type="hidden" name="latitude" th:value="${marker.latitude}">
			<input type="hidden" name="longitude" th:value="${marker.longitude}">

			<p th:text="${'Ubicación: ' + location}"></p>
			<p th:text="${'Latitud: ' + marker.getLatitude()}"></p>
			<p th:text="${'Longitud: ' + marker.getLongitude()}"></p>

			<label for="title">Problema</label><br>
			<input type="text" name="title" id="title" th:value="${report.title}"> <br>
			<p class="text-danger" th:if="${#fields.hasErrors('title')}">
				<span class="row" th:each="error : ${#fields.errors('title')}" th:text="${error}"></span>
			</p>

			<!--			<label for="location">Ubicación</label><br>-->
			<!--			<input type="text" name="location" id="location" th:value="${report.location}"><br>-->

			<!--			<label for="municipality">Municipio</label><br>-->
			<!--			<input type="text" name="municipality" id="municipality" th:value="${report.municipality}"><br>-->

			<label for="description">Descripción del problema</label> <br>
			<textarea id="description" name="description" th:value="${report.description}"> </textarea><br>
			<p class="text-danger" th:if="${#fields.hasErrors('description')}">
				<span class="row" th:each="error : ${#fields.errors('description')}" th:text="${error}"></span>
			</p>

			<label for="tags">Tags</label> <br>
			<input type="text" name="tag" id="tags" th:value="${tags}"><br>
			<p class="text-danger" th:if="${#fields.hasErrors('tags')}">
				<span class="row" th:each="error : ${#fields.errors('tags')}" th:text="${error}"></span>
			</p>

			<label for="additional_directions">Direcciones Adicionales</label> <br>
			<input type="text" name="additional_directions" id="additional_directions"
				th:value="${report.additional_directions}"><br>

			<input type="submit" value="Crear Reporte">
		</form>
	</div>
</body>

</html>