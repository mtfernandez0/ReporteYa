<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Compañía</title>
    <link th:href="@{/css/newCompany.css}" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.0/css/bootstrap.min.css">
    <script src="/webjars/bootstrap/5.3.0/js/bootstrap.min.js"></script>
</head>
<body>
    <nav>
        <a href="/profile">Cancelar</a>
    </nav>
    <div class="register-container">
        <div class="wrapper">
            <form th:action="@{/companies/new}" method="post" th:object="${company}" enctype="multipart/form-data">
                <h2 class="text-center display-6">Crear Companía</h2>

                <div class="input-box">
                    <h6>+ + + + + + + </h6>
                    <input type="text" placeholder="Nombre" id="name" name="name" required autofocus
                           th:value="${company.name}">
                    <p class="text-danger p-0" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
                </div>

                <div class="input-box textarea-box">
                    <h6>+ + + + + + + </h6>
                    <input type="text" placeholder="Descripción" id="description" name="description" required
                              th:value="${company.description}"/>
                    <p class="text-danger p-0" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></p>
                </div>

                <div class="input-box">
                    <h6>+ + + + + + + </h6>
                    <input type="text" placeholder="Locación" id="location" name="location" required
                           th:value="${company.location}">
                    <p class="text-danger p-0" th:if="${#fields.hasErrors('location')}" th:errors="*{location}"></p>
                </div>

                <div class="input-box">
                    <h6>+ + + + + + + </h6>
                    <input type="text" placeholder="Website" id="website" name="website" required
                           th:value="${company.website}">
                    <p class="text-danger p-0" th:if="${#fields.hasErrors('website')}" th:errors="*{website}"></p>
                </div>

                <div class="upload-h6">
                    <h6>+ + + + + + + </h6>
                </div>
                <div class="d-flex gap-3 align-items-center">
                    <p class="text-danger" th:if="${maxUploadSizeExceeded != null}">
                        Imagen muy pesada. (hasta 2000KB por imagen)
                    </p>
                    <label class="btn-upload" for="file">Subir logo</label>
                    <input type="file" id="file" name="files" style="display:none;" accept="image/png, image/jpeg" />
                    <p id="text-files-space" class="m-0"></p>
			    </div>
                <div>
                    <button type="submit" id="button">Crear</button>
                </div>
            </form>
        </div>
    </div>
</body>
<script>
    $(document).ready(function () {
        $('#file').change(() => {
            let i = $(this).prev('label').clone();
            let file = $('#file')[0].files;
            let text = "";
            if (file.length === 1) text = file[0].name;
            document.getElementById("text-files-space").innerHTML = text;
        });
    });
</script>
</html>